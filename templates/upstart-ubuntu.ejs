# Generated by ndm
description "<%= description %>"

# Start on boot/reboot
start on runlevel [2345]

# Stop on shutdown/reboot
stop on runlevel [016]

respawn

setuid <%= uid %>
setgid <%= gid %>

limit nofile 1000000 1000000

# set console output <logged|output|owner|none>.
<% if (console) { %>
console <%= console %>
<% } %>

# Enable core dumps:
limit core unlimited unlimited

script
  cd <%= workingDirectory %>
  <% Object.keys(env).forEach(function(key) {%><%= key %>=<%= env[key] %> <% }); %><%= nodeBin %> <%= startScript %><% flatArgs.forEach(function(arg) { %> <%= arg %><% }); %><% if (!console) { %> >> <%= logFile %> 2>&1 <% } %>
end script
